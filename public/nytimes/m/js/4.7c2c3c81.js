(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{Acfx:function(t,i,e){},T4lo:function(t,i,e){"use strict";var n=e("Acfx"),a=e.n(n);a.a},XWRu:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("f7-page",{attrs:{"infinite-preloader":t.showPreloader,infinite:!0},on:{"page:init":t.onPageInit,infinite:t.onInfinite}},[e("f7-navbar",{attrs:{title:t.title,"back-link":"返回"}},[e("f7-nav-right",[e("f7-link",{attrs:{"popover-open":".page-input","icon-md":"material:location_searching"}})],1)],1),e("f7-list",{staticClass:"news-list",attrs:{"media-list":""}},t._l(t.newsList,function(i){return e("f7-list-item",{key:i.url,attrs:{swipeout:"",link:t.formatLink(i)}},[e("div",{attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s(i.title)+"\n      ")]),e("div",{attrs:{slot:"text"},slot:"text"},[t._v("\n        "+t._s(i.summary)+"\n      ")]),e("f7-swipeout-actions",{attrs:{right:""}},[e("f7-swipeout-button",{attrs:{color:"blue",close:""},on:{click:function(e){t.savePocket(i)}}},[t._v("\n          Save\n        ")])],1)],1)})),e("f7-popover",{staticClass:"page-input"},[e("f7-list",[e("f7-list-item",{attrs:{link:!1,title:"乱序模式"}},[e("f7-toggle",{attrs:{color:"blue"},on:{"toggle:change":t.onToggleChange}})],1)],1)],1)],1)},a=[],s=e("7eDf"),o=e("BxIC"),l={created(){this.name=this.$f7route.params.name,this.title=this.$f7route.query.title},components:{f7Page:s["u"],f7Navbar:s["t"],f7List:s["k"],f7ListItem:s["m"],f7Link:s["j"],f7NavRight:s["r"],f7Popover:s["x"],f7SwipeoutActions:s["A"],f7SwipeoutButton:s["B"],f7Toggle:s["C"]},mixins:[o["a"]],data(){return{newsList:[],name:"",title:"",p:1,allowInfinite:!0,showPreloader:!0,maxPage:386,isRandom:!1}},methods:{onPageInit(){this.getData()},onInfinite(){this.allowInfinite&&(this.allowInfinite=!1,this.getData().then(()=>{this.allowInfinite=!0}))},getData(){const t=this.name;return this.$http.get(`${this.api.category}/${t}?p=${this.p}`).then(t=>{t.success&&(t.data&&t.data.length>0?(this.newsList=this.newsList.concat(t.data),this.p=this.isRandom?this.getRandomPage():this.p+1):(this.showPreloader=!1,this.allowInfinite=!1))}).catch(t=>{console.log(t)})},onToggleChange(t){this.isRandom=t,this.newsList=[],this.p=t?this.getRandomPage():1,this.allowInfinite&&(this.allowInfinite=!1,this.getData().then(()=>{this.allowInfinite=!0}))},getRandomPage(){return Math.floor(1+Math.random()*this.maxPage)},formatLink(t){return`/content?name=${t.url}&title=${t.title}&region=nyt-cn`}}},r=l,f=(e("T4lo"),e("KHd+")),h=Object(f["a"])(r,n,a,!1,null,null,null);i["default"]=h.exports}}]);
//# sourceMappingURL=4.7c2c3c81.js.map