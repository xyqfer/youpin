(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{Acfx:function(t,e,i){},T4lo:function(t,e,i){"use strict";var n=i("Acfx"),s=i.n(n);s.a},XWRu:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",{attrs:{"infinite-preloader":t.showPreloader,infinite:!0},on:{"page:init":t.onPageInit,infinite:t.onInfinite}},[i("f7-navbar",{attrs:{title:t.title,"back-link":"返回"}},[i("f7-nav-right",[i("f7-link",{attrs:{"popover-open":".search-input","icon-md":"material:location_searching"}})],1)],1),i("f7-list",{staticClass:"news-list",attrs:{"media-list":""}},t._l(t.newsList,function(e){return i("f7-list-item",{key:e.url,attrs:{link:"/content?name="+e.url+"&title="+e.title+"&region=nyt-cn"}},[i("div",{attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s(e.title)+"\n      ")]),i("div",{attrs:{slot:"text"},slot:"text"},[t._v("\n        "+t._s(e.summary)+"\n      ")])])})),i("f7-popover",{ref:"searchInput",staticClass:"search-input"},[i("f7-list",[i("f7-list-item",{attrs:{link:!1,title:"页码"}},[i("f7-input",{attrs:{type:"number",placeholder:"1~386","clear-button":""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.jumpPage(e):null}}})],1)],1)],1)],1)},s=[],a=i("7eDf"),l=i("1yJj"),r={created(){this.name=this.$f7route.params.name,this.title=this.$f7route.query.title},components:{f7Page:a["t"],f7Navbar:a["s"],f7List:a["k"],f7ListItem:a["l"],f7Link:a["j"],f7NavRight:a["q"],f7Popover:a["v"],f7Input:a["i"]},data(){return{newsList:[],name:"",title:"",p:1,allowInfinite:!0,showPreloader:!0}},methods:{onPageInit(){this.getData()},onInfinite(){this.allowInfinite&&(this.allowInfinite=!1,this.getData().then(()=>{this.showPreloader=this.allowInfinite=!(this.p>this.total)}))},getData(){const t=this.name;return this.$http.get(`${l["a"].category}/${t}?p=${this.p}`).then(t=>{t.success&&(t.data&&t.data.length>0?(this.newsList=this.newsList.concat(t.data),this.p=this.p+1):(this.showPreloader=!1,this.allowInfinite=!1))}).catch(t=>{console.log(t)})},jumpPage(t){let e=+t.target.value;this.$refs.searchInput.f7Popover.close(),this.p=e,this.newsList=[],this.getData()}}},o=r,h=(i("T4lo"),i("KHd+")),f=Object(h["a"])(o,n,s,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=4.94d6b5ea.js.map