(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{l27s:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("f7-page",{attrs:{"infinite-preloader":t.showPreloader,infinite:!0},on:{"page:init":t.onPageInit,infinite:t.onInfinite}},[e("poliwag-navbar",{attrs:{title:t.title,"back-link":"返回"}},[e("template",{slot:"right"},[e("f7-link",{attrs:{"popover-open":".page-input","icon-md":"material:location_searching"}})],1)],2),e("poliwag-list",{attrs:{data:t.pageData},on:{"swipeout-button:click":t.savePocket}}),e("f7-popover",{staticClass:"page-input"},[e("f7-list",[e("f7-list-item",{attrs:{link:!1,title:"乱序模式"}},[e("f7-toggle",{attrs:{color:"blue"},on:{"toggle:change":t.onToggleChange}})],1)],1)],1)],1)},a=[],o=e("7eDf"),s=e("BxIC"),l={created:function(){this.name=this.$f7route.params.name,this.title=this.$f7route.query.title},components:{f7Toggle:o["E"]},mixins:[s["a"]],data:function(){return{region:"nyt-category",name:"",title:"",p:1,allowInfinite:!0,showPreloader:!0,maxPage:386,isRandom:!1}},methods:{onPageInit:function(){this.getData()},onInfinite:function(){var t=this;this.allowInfinite&&(this.allowInfinite=!1,this.getData().then(function(){t.allowInfinite=!0}))},getData:function(){var t=this;return this.$store.dispatch("".concat(this.region,"/getData"),{p:this.p,name:this.name}).then(function(){t.p=t.isRandom?t.getRandomPage():t.p+1}).catch(function(t){console.log(t)})},onToggleChange:function(t){var n=this;this.isRandom=t,this.$store.commit("".concat(this.region,"/reset")),this.p=t?this.getRandomPage():1,this.allowInfinite&&(this.allowInfinite=!1,this.getData().then(function(){n.allowInfinite=!0}))},getRandomPage:function(){return Math.floor(1+Math.random()*this.maxPage)},formatLink:function(t){return"/content?url=".concat(encodeURIComponent(t.url),"&title=").concat(t.title,"&region=nyt-cn")}}},r=l,c=e("KHd+"),g=Object(c["a"])(r,i,a,!1,null,null,null);n["default"]=g.exports}}]);
//# sourceMappingURL=5-legacy.26594628.js.map