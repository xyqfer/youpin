(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{l27s:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",{attrs:{"infinite-preloader":t.showPreloader,infinite:!0},on:{"page:init":t.onPageInit,infinite:t.onInfinite}},[i("poliwag-navbar",{attrs:{title:t.title,"back-link":"返回"}},[i("template",{slot:"right"},[i("f7-link",{attrs:{"popover-open":".page-input","icon-md":"material:location_searching"}})],1)],2),i("poliwag-list",{attrs:{data:t.pageData},on:{"swipeout-button:click":t.savePocket}}),i("f7-popover",{staticClass:"page-input"},[i("f7-list",[i("f7-list-item",{attrs:{link:!1,title:"乱序模式"}},[i("f7-toggle",{attrs:{color:"blue"},on:{"toggle:change":t.onToggleChange}})],1)],1)],1)],1)},a=[],o=i("7eDf"),s=i("BxIC"),l={created(){this.name=this.$f7route.params.name,this.title=this.$f7route.query.title},components:{f7Toggle:o["C"]},mixins:[s["a"]],data(){return{region:"nyt-category",name:"",title:"",p:1,allowInfinite:!0,showPreloader:!0,maxPage:386,isRandom:!1}},methods:{onPageInit(){this.getData()},onInfinite(){this.allowInfinite&&(this.allowInfinite=!1,this.getData().then(()=>{this.allowInfinite=!0}))},getData(){return this.$store.dispatch(`${this.region}/getData`,{p:this.p,name:this.name}).then(()=>{this.p=this.isRandom?this.getRandomPage():this.p+1}).catch(t=>{console.log(t)})},onToggleChange(t){this.isRandom=t,this.$store.commit(`${this.region}/reset`),this.p=t?this.getRandomPage():1,this.allowInfinite&&(this.allowInfinite=!1,this.getData().then(()=>{this.allowInfinite=!0}))},getRandomPage(){return Math.floor(1+Math.random()*this.maxPage)},formatLink(t){return`/content?url=${encodeURIComponent(t.url)}&title=${t.title}&region=nyt-cn`}}},r=l,h=i("KHd+"),g=Object(h["a"])(r,n,a,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=5.716665eb.js.map