(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"1yJj":function(t,n,e){"use strict";var a="https://ibdkopi6vn.avosapps.us",i={home:"".concat(a,"/api/v1/nytimes/home"),content:"".concat(a,"/api/v1/nytimes/content"),category:"".concat(a,"/api/v1/nytimes/category"),today:"".concat(a,"/api/v1/nytimes/today"),content2:"".concat(a,"/api/v1/nytimes/content2"),translate:"".concat(a,"/api/v1/nytimes/translate"),translate2:"".concat(a,"/api/v1/nytimes/translate2"),te:"".concat(a,"/api/v1/nytimes/te"),teContent:"".concat(a,"/api/v1/nytimes/teContent"),te2:"".concat(a,"/api/v1/nytimes/te2"),teContent2:"".concat(a,"/api/v1/nytimes/teContent2"),times:"".concat(a,"/api/v1/nytimes/times"),timesContent:"".concat(a,"/api/v1/nytimes/timesContent"),wanqu:"".concat(a,"/api/v1/nytimes/wanqu"),wanquRandom:"".concat(a,"/api/v1/nytimes/wanquRandom"),wanquHot:"".concat(a,"/api/v1/nytimes/wanquHot"),wanquIssue:"".concat(a,"/api/v1/nytimes/wanquIssue"),crawl:"".concat(a,"/api/v1/nytimes/crawl"),book:"".concat(a,"/api/v1/nytimes/book"),i21st:"".concat(a,"/api/v1/nytimes/i21st"),i21stContent:"".concat(a,"/api/v1/nytimes/i21stContent"),subtitles:"".concat(a,"/api/v1/nytimes/subtitles"),subtitleContent:"".concat(a,"/api/v1/nytimes/subtitleContent"),te3:"".concat(a,"/api/v1/nytimes/te3"),teContent3:"".concat(a,"/api/v1/nytimes/teContent3")};n["a"]=i},VmZW:function(t,n,e){"use strict";var a=e("oiQn"),i=e.n(a);i.a},ivw8:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("f7-page",{staticClass:"messages-page",on:{"page:init":t.onPageInit}},[e("f7-navbar",{attrs:{"back-link":"返回"}},[e("f7-nav-title",[t._v("\n      Theater "),t.isLoading?e("f7-preloader",{attrs:{color:"white",size:20}}):t._e()],1),e("f7-nav-right",{staticStyle:{"font-size":"14px","margin-right":"16px"}},[t._v("\n      "+t._s(t.percent)+"\n    ")])],1),e("f7-messages",{staticClass:"news-content-list"},t._l(t.bubbleData,function(n,a){return e("f7-message",{key:a,attrs:{type:n.type,first:!0,last:!0,tail:!0}},["received"===n.type?e("div",{attrs:{slot:"name"},slot:"name"},[t._v("\n        "+t._s(n.meta.originIndex+1)+"楼\n      ")]):t._e(),e("div",{attrs:{slot:"text"},slot:"text"},["received"===n.type?t._l(n.text.split(" "),function(n,a){return e("span",{key:a,on:{click:t.onWordClick}},[t._v("\n            "+t._s(n)+"\n          ")])}):[t._v("\n          "+t._s(n.text)+"\n        ")]],2),a<2*t.total-1?e("div",{staticClass:"display-flex justify-content-space-between align-items-flex-end",attrs:{slot:"footer"},slot:"footer"},["received"===n.type?e("div"):t._e(),e("a",{staticClass:"message-link",attrs:{href:"#"},on:{"~click":function(e){t.nextBubble(a+1,"sent"===n.type?n.meta.originIndex+1:null,e)}}},[t._v("\n          Next\n        ")]),"sent"===n.type?e("div"):t._e()]):t._e()])}))],1)},i=[],s=e("7eDf"),o=e("1yJj"),c={components:{f7Navbar:s["u"],f7Page:s["v"],f7Messages:s["p"],f7MessagesTitle:s["q"],f7Message:s["o"],f7Preloader:s["z"],f7Block:s["c"],f7List:s["l"],f7ListItem:s["n"],f7Link:s["k"],f7NavTitle:s["t"],f7NavRight:s["s"]},data:function(){return{link:"",isLoading:!0,newsContent:[],bubbleData:[],percent:"",current:0,total:0,lfKey:"",index:-1,progressIndex:0,region:"",paragraph:"",preference:{},translatedText:null}},methods:{onPageInit:function(){var t=this,n=this.$f7route.query,e=n.name,a=n.region,i=n.index,s="/content/".concat(e,"/").concat(a);this.$lf.getItem(s).then(function(n){n?t.initData(n):t.getData()}).catch(function(t){console.log(t)}),this.link=e,this.index=i,this.lfKey=s,this.region=a},getData:function(){var t=this,n=this.$f7route.query.name;this.$http.get("".concat(o["a"][this.preference.api],"?name=").concat(n)).then(function(n){n.success&&t.initData(n.data)}).catch(function(t){console.log(t)})},initData:function(t){var n=this;this.translate(t.content[this.index].en).then(function(t){n.newsContent=t.content.reduce(function(t,n,e){return t.push({type:"received",text:n.en,meta:{originIndex:e}}),t.push({type:"sent",text:n.zh,meta:{originIndex:e}}),t},[]),n.$nextTick(function(){n.total=n.newsContent.length/2,n.nextBubble(0,0)})}).catch(function(t){console.log(t)}).finally(function(){n.isLoading=!1})},nextBubble:function(t,n,e){this.bubbleData=this.newsContent.slice(0,t+1),null!=n&&(this.current=n+1),this.progressIndex=t,e&&e.target.classList.add("color-gray")},onWordClick:function(t){t.target.classList.toggle("bg-color-yellow")},translate:function(t){return this.$http.post({url:o["a"].translate2,data:{text:t}}).then(function(t){return t.success?t.data:{}}).catch(function(t){return console.log(t),""})}},watch:{current:function(t){this.percent="".concat(t," / ").concat(this.total)}}},r=c,l=(e("VmZW"),e("KHd+")),u=Object(l["a"])(r,a,i,!1,null,null,null);n["default"]=u.exports},oiQn:function(t,n,e){}}]);
//# sourceMappingURL=6-legacy.f6015391.js.map