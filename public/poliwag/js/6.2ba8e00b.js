(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"1yJj":function(t,e,n){"use strict";const s="https://ibdkopi6vn.avosapps.us",i={home:`${s}/api/v1/nytimes/home`,content:`${s}/api/v1/nytimes/content`,category:`${s}/api/v1/nytimes/category`,today:`${s}/api/v1/nytimes/today`,content2:`${s}/api/v1/nytimes/content2`,translate:`${s}/api/v1/nytimes/translate`,translate2:`${s}/api/v1/nytimes/translate2`,te:`${s}/api/v1/nytimes/te`,teContent:`${s}/api/v1/nytimes/teContent`,te2:`${s}/api/v1/nytimes/te2`,teContent2:`${s}/api/v1/nytimes/teContent2`,times:`${s}/api/v1/nytimes/times`,timesContent:`${s}/api/v1/nytimes/timesContent`,wanqu:`${s}/api/v1/nytimes/wanqu`,wanquRandom:`${s}/api/v1/nytimes/wanquRandom`,wanquHot:`${s}/api/v1/nytimes/wanquHot`,wanquIssue:`${s}/api/v1/nytimes/wanquIssue`,crawl:`${s}/api/v1/nytimes/crawl`,book:`${s}/api/v1/nytimes/book`,i21st:`${s}/api/v1/nytimes/i21st`,i21stContent:`${s}/api/v1/nytimes/i21stContent`,subtitles:`${s}/api/v1/nytimes/subtitles`,subtitleContent:`${s}/api/v1/nytimes/subtitleContent`,te3:`${s}/api/v1/nytimes/te3`,teContent3:`${s}/api/v1/nytimes/teContent3`};e["a"]=i},VmZW:function(t,e,n){"use strict";var s=n("oiQn"),i=n.n(s);i.a},ivw8:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{staticClass:"messages-page",on:{"page:init":t.onPageInit}},[n("f7-navbar",{attrs:{"back-link":"返回"}},[n("f7-nav-title",[t._v("\n      Theater "),t.isLoading?n("f7-preloader",{attrs:{color:"white",size:20}}):t._e()],1),n("f7-nav-right",{staticStyle:{"font-size":"14px","margin-right":"16px"}},[t._v("\n      "+t._s(t.percent)+"\n    ")])],1),n("f7-messages",{staticClass:"news-content-list"},t._l(t.bubbleData,function(e,s){return n("f7-message",{key:s,attrs:{type:e.type,first:!0,last:!0,tail:!0}},["received"===e.type?n("div",{attrs:{slot:"name"},slot:"name"},[t._v("\n        "+t._s(e.meta.originIndex+1)+"楼\n      ")]):t._e(),n("div",{attrs:{slot:"text"},slot:"text"},["received"===e.type?t._l(e.text.split(" "),function(e,s){return n("span",{key:s,on:{click:t.onWordClick}},[t._v("\n            "+t._s(e)+"\n          ")])}):[t._v("\n          "+t._s(e.text)+"\n        ")]],2),s<2*t.total-1?n("div",{staticClass:"display-flex justify-content-space-between align-items-flex-end",attrs:{slot:"footer"},slot:"footer"},["received"===e.type?n("div"):t._e(),n("a",{staticClass:"message-link",attrs:{href:"#"},on:{"~click":function(n){t.nextBubble(s+1,"sent"===e.type?e.meta.originIndex+1:null,n)}}},[t._v("\n          Next\n        ")]),"sent"===e.type?n("div"):t._e()]):t._e()])}))],1)},i=[],a=n("7eDf"),o=n("1yJj"),r={components:{f7Navbar:a["u"],f7Page:a["v"],f7Messages:a["p"],f7MessagesTitle:a["q"],f7Message:a["o"],f7Preloader:a["z"],f7Block:a["c"],f7List:a["l"],f7ListItem:a["n"],f7Link:a["k"],f7NavTitle:a["t"],f7NavRight:a["s"]},data(){return{link:"",isLoading:!0,newsContent:[],bubbleData:[],percent:"",current:0,total:0,lfKey:"",index:-1,progressIndex:0,region:"",paragraph:"",preference:{},translatedText:null}},methods:{onPageInit(){let t=this.$f7route.query,e=t.name,n=t.region,s=t.index,i=`/content/${e}/${n}`;this.$lf.getItem(i).then(t=>{t?this.initData(t):this.getData()}).catch(t=>{console.log(t)}),this.link=e,this.index=s,this.lfKey=i,this.region=n},getData(){let t=this.$f7route.query.name;this.$http.get(`${o["a"][this.preference.api]}?name=${t}`).then(t=>{t.success&&this.initData(t.data)}).catch(t=>{console.log(t)})},initData(t){this.translate(t.content[this.index].en).then(t=>{this.newsContent=t.content.reduce((t,e,n)=>{return t.push({type:"received",text:e.en,meta:{originIndex:n}}),t.push({type:"sent",text:e.zh,meta:{originIndex:n}}),t},[]),this.$nextTick(()=>{this.total=this.newsContent.length/2,this.nextBubble(0,0)})}).catch(t=>{console.log(t)}).finally(()=>{this.isLoading=!1})},nextBubble(t,e,n){this.bubbleData=this.newsContent.slice(0,t+1),null!=e&&(this.current=e+1),this.progressIndex=t,n&&n.target.classList.add("color-gray")},onWordClick(t){t.target.classList.toggle("bg-color-yellow")},translate(t){return this.$http.post({url:o["a"].translate2,data:{text:t}}).then(t=>{return t.success?t.data:{}}).catch(t=>{return console.log(t),""})}},watch:{current(t){this.percent=`${t} / ${this.total}`}}},l=r,c=(n("VmZW"),n("KHd+")),p=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=p.exports},oiQn:function(t,e,n){}}]);
//# sourceMappingURL=6.2ba8e00b.js.map